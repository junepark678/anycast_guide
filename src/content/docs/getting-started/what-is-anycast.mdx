---
title: What is Anycast? | How Anycast Routing Works
description: Learn what anycast routing is and how it works. Understand the difference between anycast and unicast, common use cases, and why DIY anycast is achievable for hobbyists.
---

import { LinkCard, Aside, Tabs, TabItem } from '@astrojs/starlight/components';

Anycast is a network addressing and routing methodology where a single IP address is announced from multiple locations simultaneously. When a user connects to an anycast address, they're automatically routed to the nearest (or best) instance based on BGP routing metrics.

When you buy a product from Amazon.com, you don't care which warehouse it ships from; as long as it arrives quickly, you get the same product at your doorstep. Anycast works similarly for internet services: users are directed to the closest server hosting the service, improving performance and reliability. This works particularly well for stateless services like DNS, CDN edge nodes, and DDoS mitigation.

## How Anycast Works

At its core, anycast leverages the Border Gateway Protocol (BGP) to announce the same IP prefix from multiple points of presence (PoPs) around the world. The internet's routing infrastructure naturally directs traffic to the topologically closest announcement.

At each PoP, a BGP announcement is made for the anycast IP prefix. Routers across the internet receive these announcements and build their routing tables accordingly. Generally, routers will prefer the path with the shortest Autonomous System (AS) path length, effectively routing users to the nearest (in network topology) server.

<Aside type="note">
TL;DR: Anycast is just making multiple BGP announcements for the same prefix, resulting in natural load balancing and redundancy.
</Aside>

## Anycast vs Unicast

Understanding the difference between anycast and unicast is fundamental to grasping why anycast is powerful for certain applications.

<Tabs>
  <TabItem label="Unicast">
    Unicast is the traditional method of network communication where a single unique IP address corresponds to a single device. When you connect to a unicast address, your traffic is routed to that specific device, regardless of its location.
    
    **Pros**:
    - Direct, persistent connections
    - Easier to manage stateful sessions
    - Easier data consistency
    **Cons**:
    - No inherent redundancy
    - Potentially higher latency if the device is far away
  </TabItem>
  <TabItem label="Anycast">
    Anycast, on the other hand, allows multiple devices to share the same IP address. When you connect to an anycast address, your traffic is routed to the nearest device advertising that address, based on BGP routing decisions.

    **Pros**:
    - Built-in redundancy and failover
    - Reduced latency by connecting to the nearest server
    - Scalability through distributed architecture
    **Cons**:
    - Not suitable for stateful connections
    - Complexity in managing distributed systems
  </TabItem>
</Tabs>

## Common Use Cases

Anycast powers some of the most critical infrastructure on the internet. Here's where it's commonly deployed:

### DNS Services

DNS is the most common anycast use case. Major DNS providers like Cloudflare (1.1.1.1) and Google (8.8.8.8) use anycast to serve billions of queries daily from hundreds of locations. DNS is a stateless UDP service, making it ideal for anycast deployment.

### Content Delivery Networks (CDNs)

CDNs use anycast to route users to the nearest edge server, reducing latency and improving download speeds.

CDNs don't need to constantly maintain consistent state between edge nodes, making anycast a perfect fit. Distributed caching and replication strategies ensure content availability across all nodes.

### DDoS Mitigation

Anycast provides natural DDoS resilience by distributing attack traffic across multiple locations, preventing any single point from being overwhelmed.
Anycast allows traffic to be absorbed and dispersed across a wide network of servers, making it harder for attackers to target a single location effectively.

## Benefits of DIY Anycast

Building your own anycast network is more accessible than ever. Here's why hobbyists and small organizations are taking control of their network infrastructure:

### Learning Opportunity

There's no better way to understand internet routing than building and operating your own anycast network.
You will gain hands-on experience with BGP, network architecture, and distributed systems.

### Full Control

Own your IP space, control your routing policy, and never worry about vendor lock-in. DIY anycast allows you to tailor your network to your specific needs and preferences.

## Next Steps

Now that you understand what anycast is and why it's valuable, let's look at what you'll need to build your own anycast network.

<LinkCard
  title="Prerequisites for DIY Anycast"
  description="Review the technical requirements, costs, and knowledge needed before starting your anycast project."
  href="/getting-started/prerequisites/"
/>
